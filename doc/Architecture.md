# Архитектура проекта
При разработке данного проекта основной упор был сделан на соблюдение лучших практик в современной веб-разработке, таких как модульность, применение принципов SOLID, использование "чистой" архитектуры (hexagonal architecture), а также применение паттерна DDD.

Одной из главных целей проекта являлась создание кодовой базы, которую легко поддерживать и масштабировать.

Для достижения этой цели были приняты следующие решения:

* Избегание использования фреймворков в ядре приложения (core).
* Внедрение абстракций для управления кодовой базой.
* Соблюдение принципов SOLID и IoC (Inversion of Control).
* Использование Java Module начиная с Java 9.
* Реализация системы логирования.

## Структура проекта

Приложение состоит из ряда модулей, где модули нижнего уровня не зависят от модулей верхнего уровня.

![Arendata_project_modules](https://github.com/IutkinEgor/ArenadataTest/assets/60474448/bdc204b4-a1d8-4dab-b618-e4bcce3c84c3)

Описаниие от нижестоящего к вышестоящему: 

### Common
Модуль включает в себя абстракции, которые используются в вышестоящих модулях для улучшения читаемости кода.

### Domain
Этот модуль содержит декларации объектов, представляющих доменную область приложения. Основная часть состоит из неизменяемых (record) и консистентных объектов (которые не могут содержать невалидных значений).

### Application
Этот модуль зависит только от Domain. Здесь определена бизнес-логика приложения, интеграция с внешними модулями (адаптерами) через input/output интерфейсы. Модуль также занимается назначением периодических задач (scheduler task) для получения информации из data provider модуля и передачи данных в хранилище с помощью persistence модуля. Обработка исключений также производится в этом модуле.

### Adapters модули
Помимо зависимости от Application и транзитивных зависимостей на Domain и Common, адаптеры
могут иметь зависимости на ряд библиотек для инетграции с внешними системами.
##### Persistence: 
Отвечает за интеграцию с ELK (Elasticsearch).
##### Data Provider: 
Отвечает за получение данных с биржи через API.
##### API: 
Использует HttpServer на виртуальных потоках из OpenJDK. Декларирует конечные точки (endpoints) для получения информации в соответствии с техническим заданием:
* Вычисление средней цены криптовалюты за последний час.
* Определение криптовалюты с максимальным процентным изменением цены за последний день.

### Bootstrap

Модуль содержит Main класс и метод main. Он зависит от всех остальных модулей. 
Основная часть - это самописный контейнер внедрения зависимостей, реализованный в классе Application. 
Основная задача Bootstrap модуля - провести внедрение всех зависимостей и запустить приложение.


## Поток данных
![Arendata_project_Data_flow](https://github.com/IutkinEgor/ArenadataTest/assets/60474448/19ccfeeb-7873-4002-aca1-7526f499d8fc)


Для взаимодействия с бизнес-логикой приложения, находящейся в модуле application, предоставляются входные и выходные интерфейсы. 
Согласно конвенции проекта, интерфейсы в пакете _input должны оканчиваться на **UseCase** и реализуются внутри приложения в классах, завершающихся на **Interactor**. Эти интерфейсы могут быть использованы адаптерами для взаимодействия с бизнес-логикой. <br>
Интерфейсы в пакете _output, должны оканчиваться на **Port** и представляются адаптерам для реализации. Через порты ядро приложения взаимодействует с внешним миром.
